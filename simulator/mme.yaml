# YAML configuraton file for the Mustang Mach-E CANbus Simulator
mme:

    # Define the modules included in the imulator.  Each module requires:
    #   name:               name used to refer to the module
    #   channel:            CANbus ('can0' or 'can1') used to interface with the module
    #   arbitration_id:     the address used by the module on the specified CANbus
    modules:
        - module:
            name: 'APIM'
            channel: 'can1'
            arbitration_id: 0x7D0

        - module:
            name: 'GWM'
            channel: 'can0'
            arbitration_id: 0x716

        - module:
            name: 'IPC'
            channel: 'can1'
            arbitration_id: 0x720


    # Define the PIDs included in the simulator.  PIDs can be used in more than one module.
    #   name:               name used to refer to the PID
    #   id:                 PID
    #   modules:            list of modules that respond to this PID
    #   packing:            the struct packing format needed to encode the response
    #   states:             list of variables used by the PID 
    pids:
        - pid:
            name: 'Hires Odometer'
            id: 0x404C
            modules:
                - module:   IPC
            packing: 'Q'
            states:
            - state:
                    name:   odometer
                    value:  0xdcdc

        - pid:
            name: 'KeyState'
            id: 0x411F
            modules:
                - module:   APIM
                - module:   GWM
            packing: 'B'
            states:
            - state:
                    name:   key_state
                    value:  5

        - pid:
            name: 'GearCommanded'
            id: 0x6310
            modules:
                - module:   IPC
            packing: 'B'
            states:
            - state:
                    name:   gear_commanded
                    value:  0

        - pid:
            name: 'GPS'
            id: 0x8012
            modules:
                - module:   APIM
            packing: 'HllBHH'
            states:
            - state:
                    name:   elevation
                    value:  100
            - state:
                    name:   latitude
                    value:  2577
            - state:
                    name:   longitude
                    value:  -4610
            - state:
                    name:   fix
                    value:  4
            - state:
                    name:   speed
                    value:  12
            - state:
                    name:   heading
                    value:  256

